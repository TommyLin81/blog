---
title: "IP Address"
date: 2023-06-10T14:14:05+08:00
description: "Internet Protocol Address 的簡易介紹"
tags: [network]
categories: [Network Management]
---

## IP 概述

用在網際網路上（internet）標記一個網路介面卡（某台電腦、行動裝置）的獨特位址。

簡單來說就類似寄送包裹時的郵寄目的地；在網路上也需要有一個 IP 位址，才能將資料送給正確的目標。

## IP 版本

### IPv4

每個 IPv4 位址由四個由點（.）分隔的數字組成，每個數字可以是 0~255 之間。例如 `192.168.1.1` 就是一個 IPv4 位址。

IPv4 因為位址空間有限（約43億個），並且在現代設備日益增多的情況下，已經無法滿足需求，因此誕生了 IPv6。

### IPv6

IPv6 位址由八組由冒號（:）分隔的四位十六進位數字組成。

例如 `2001:0db8:85a3:0000:0000:8a2e:0370:7334` 是一個IPv6位址。這種位址格式提供了極大的位址空間，幾乎能提供無限數量設備的位址使用。

### IPv4 與 IPv6 比較

| 特性     | IPv4           | IPv6              |
| -------- | -------------- | ----------------- |
| 位址長度 | 32 位元        | 128 位元          |
| 表示方式 | 四組十進位數字 | 八組十六進位數字  |
| 位址數量 | 約 43 億個     | 約 3.4 × 10^38 個 |
| 安全性   | 基本           | 內建 IPSec        |
| QoS 支援 | 有限           | 增強              |
| 設定方式 | 手動/DHCP      | 自動/DHCPv6       |

## IP 種類

### Public IP

在 Internet 中公開且獨一無二的位址。每個 Public IP 都必須經過註冊且全球唯一，這確保了網際網路上的通訊可以準確送達目的地。

架設網站的情況，會去向 ISP（Internet Service Provider，網際網路服務提供者）申請一組公共 IP，讓他人能透過網際網路找到自己的網站。

### Private IP

遵守 RFC 1918（IPV4）和 RFC 4193（IPV6）規範的私有 IP 空間。

私有 IP 無法直接連接到 internet，需要透過 NAT（Network Address Translation，網路位址轉換）或是代理伺服器（proxy server）來實現。

因為私有 IP 不對外的關係，所以在各自建立的區域網路（LAN）中，通常採用私有網路進行溝通。

私有 IP 的特點：

- 免費的
- 無法連接到 internet
- 常用於家庭、學校、企業
- 在 LAN（local area network）中是可以互通的

#### IPv4

| RFC1918    | IP 位址區段                   | IP 數量    | 網路分類說明        | 最大 CIDR 區塊（子網路遮罩） | 主機位元數 |
| ---------- | ----------------------------- | ---------- | ------------------- | ---------------------------- | ---------- |
| 24位元區塊 | 10.0.0.0 – 10.255.255.255     | 16,777,216 | 單個 A 類網路       | 10.0.0.0/8 (255.0.0.0)       | 24位元     |
| 20位區塊   | 172.16.0.0 – 172.31.255.255   | 1,048,576  | 16 個連續 B 類網路  | 172.16.0.0/12 (255.240.0.0)  | 20位       |
| 16位元區塊 | 192.168.0.0 – 192.168.255.255 | 65,536     | 256 個連續 C 類網路 | 192.168.0.0/16 (255.255.0.0) | 16位元     |

#### IPv6

| 區塊     | 前綴    | Global ID (隨機) | Subnet ID | Number of addresses in subnet |
| -------- | ------- | ---------------- | --------- | ----------------------------- |
|          | 48 bits | 48 bits          | 16 bits   | 64 bits                       |
| fd00::/8 | fd      | xx:xxxx:xxxx     | yyyy      | 18,446,744,073,709,551,616    |

## 手機與 Internet 連線的流程

### 透過行動網路連線

1. 向電信商（Mobile Network Operator）申請行動網路服務並插入 SIM 卡
2. 手機開啟行動數據後，會連接到電信商的基地台
3. 透過電信商的核心網路進行認證，並分配到一組 Private IP
4. 使用此 IP 進行網際網路連線時，電信商的設備會透過 NAT 技術，將其轉換為 Public IP

### 透過 Wi-Fi 連線

1. 需要有可用的 Wi-Fi 網路（通常是透過 ISP 申請的網路服務）
2. 手機連接到 Wi-Fi 基地台
3. 進行網際網路連線，會與 DHCP Server 註冊，並分配到一組 Private IP
4. 使用此 IP 進行網際網路連線時，Router 會透過 NAT 技術，將其轉換為 Public IP

## References

- [wiki/專用網路](https://zh.wikipedia.org/zh-tw/%E4%B8%93%E7%94%A8%E7%BD%91%E7%BB%9C)
